<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AuraHealth Ultra - Your Personal Wellness Companion</title>
<style>
:root {
  --bg: #0f172a;
  --card: #1e293b;
  --accent: #ff6b9d;
  --accent2: #4ecdc4;
  --text: #f0f4f8;
  --text-muted: #94a3b8;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
  color: var(--text);
  min-height: 100vh;
  overflow-x: hidden;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
  padding-bottom: 100px;
}

.header {
  text-align: center;
  padding: 30px 20px;
  background: linear-gradient(135deg, var(--accent) 0%, var(--accent2) 100%);
  border-radius: 20px;
  margin-bottom: 30px;
  box-shadow: 0 10px 30px rgba(255,107,157,0.3);
}

.header h1 {
  font-size: 2.5em;
  margin-bottom: 10px;
  text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
}

.header p {
  font-size: 1.1em;
  opacity: 0.95;
}

.nav {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
  gap: 10px;
  margin-bottom: 30px;
  position: sticky;
  top: 10px;
  z-index: 100;
  background: var(--bg);
  padding: 15px;
  border-radius: 15px;
  box-shadow: 0 5px 20px rgba(0,0,0,0.3);
}

.nav button {
  background: var(--card);
  border: 2px solid transparent;
  color: var(--text);
  padding: 12px 10px;
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.3s;
  font-size: 0.9em;
  font-weight: 600;
}

.nav button:hover {
  background: rgba(78,205,196,0.2);
  border-color: var(--accent2);
  transform: translateY(-2px);
}

.nav button.active-nav {
  background: linear-gradient(135deg, var(--accent) 0%, var(--accent2) 100%);
  border-color: var(--accent);
}

.page {
  display: none;
}

.page.active {
  display: block;
  animation: fadeIn 0.4s ease;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.card {
  background: var(--card);
  border-radius: 15px;
  padding: 25px;
  margin-bottom: 20px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.2);
  border: 1px solid rgba(78,205,196,0.1);
}

.card h2, .card h3 {
  color: var(--accent2);
  margin-bottom: 15px;
}

.form-group {
  margin-bottom: 20px;
}

.form-group label {
  display: block;
  margin-bottom: 8px;
  color: var(--text-muted);
  font-weight: 600;
}

.form-group input, .form-group select, .form-group textarea {
  width: 100%;
  padding: 12px;
  background: rgba(15,23,42,0.5);
  border: 2px solid rgba(78,205,196,0.3);
  border-radius: 10px;
  color: var(--text);
  font-size: 1em;
  transition: all 0.3s;
}

.form-group input:focus, .form-group select:focus, .form-group textarea:focus {
  outline: none;
  border-color: var(--accent2);
  box-shadow: 0 0 0 3px rgba(78,205,196,0.1);
}

.btn {
  background: linear-gradient(135deg, var(--accent) 0%, var(--accent2) 100%);
  color: white;
  border: none;
  padding: 14px 28px;
  border-radius: 12px;
  cursor: pointer;
  font-size: 1em;
  font-weight: 700;
  transition: all 0.3s;
  box-shadow: 0 5px 15px rgba(255,107,157,0.3);
}

.btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 7px 20px rgba(255,107,157,0.4);
}

.btn:active {
  transform: translateY(0);
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 15px;
  margin-bottom: 25px;
}

.stat-card {
  background: linear-gradient(135deg, rgba(255,107,157,0.15) 0%, rgba(78,205,196,0.15) 100%);
  padding: 20px;
  border-radius: 12px;
  text-align: center;
  border: 2px solid rgba(78,205,196,0.2);
}

.stat-card .value {
  font-size: 2.5em;
  font-weight: 900;
  color: var(--accent2);
  margin: 10px 0;
}

.stat-card .label {
  color: var(--text-muted);
  font-size: 0.9em;
  font-weight: 600;
}

.progress-bar {
  background: rgba(15,23,42,0.5);
  border-radius: 10px;
  height: 12px;
  overflow: hidden;
  margin: 10px 0;
}

.progress-fill {
  background: linear-gradient(90deg, var(--accent) 0%, var(--accent2) 100%);
  height: 100%;
  border-radius: 10px;
  transition: width 0.5s ease;
}

.tip-card {
  background: rgba(78,205,196,0.1);
  padding: 15px;
  border-radius: 10px;
  margin-bottom: 12px;
  border-left: 4px solid var(--accent2);
  line-height: 1.6;
}

.alert {
  background: rgba(255,107,157,0.2);
  padding: 15px;
  border-radius: 10px;
  margin-bottom: 15px;
  border-left: 4px solid var(--accent);
}

.alert.success {
  background: rgba(78,205,196,0.2);
  border-left-color: var(--accent2);
}

.badge {
  display: inline-block;
  background: linear-gradient(135deg, var(--accent) 0%, var(--accent2) 100%);
  padding: 8px 15px;
  border-radius: 20px;
  margin: 5px;
  font-weight: 700;
  font-size: 0.9em;
}

.quick-actions {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 10px;
  margin-top: 20px;
}

.quick-btn {
  background: rgba(78,205,196,0.2);
  border: 2px solid var(--accent2);
  color: var(--text);
  padding: 15px;
  border-radius: 12px;
  cursor: pointer;
  font-weight: 600;
  transition: all 0.3s;
  text-align: center;
}

.quick-btn:hover {
  background: rgba(78,205,196,0.3);
  transform: scale(1.05);
}

#chatbotIcon {
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 60px;
  height: 60px;
  background: linear-gradient(135deg, var(--accent) 0%, var(--accent2) 100%);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  font-size: 30px;
  box-shadow: 0 5px 20px rgba(255,107,157,0.4);
  z-index: 1000;
  transition: all 0.3s;
}

#chatbotIcon:hover {
  transform: scale(1.1) rotate(10deg);
}

#chatbotPanel {
  position: fixed;
  bottom: -100%;
  right: 0;
  width: 100%;
  max-width: 450px;
  height: 70vh;
  max-height: 600px;
  background: var(--card);
  border-radius: 20px 20px 0 0;
  box-shadow: 0 -5px 30px rgba(0,0,0,0.5);
  z-index: 999;
  transition: bottom 0.4s ease;
  display: flex;
  flex-direction: column;
}

#chatbotPanel.open {
  bottom: 0;
}

.chat-header {
  background: linear-gradient(135deg, var(--accent) 0%, var(--accent2) 100%);
  padding: 20px;
  border-radius: 20px 20px 0 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.chat-header h3 {
  margin: 0;
  font-size: 1.3em;
}

.close-chat {
  background: rgba(255,255,255,0.2);
  border: none;
  color: white;
  width: 35px;
  height: 35px;
  border-radius: 50%;
  cursor: pointer;
  font-size: 20px;
  font-weight: bold;
  transition: all 0.3s;
}

.close-chat:hover {
  background: rgba(255,255,255,0.3);
  transform: rotate(90deg);
}

#chatHistory {
  flex: 1;
  overflow-y: auto;
  padding: 20px;
}

.chat-input-area {
  padding: 15px;
  background: rgba(15,23,42,0.5);
  border-top: 1px solid rgba(78,205,196,0.2);
}

#userMessage {
  width: 100%;
  padding: 12px;
  background: rgba(15,23,42,0.7);
  border: 2px solid rgba(78,205,196,0.3);
  border-radius: 10px;
  color: var(--text);
  font-size: 1em;
  resize: none;
  font-family: inherit;
}

.quick-questions {
  display: flex;
  gap: 8px;
  margin-bottom: 10px;
  overflow-x: auto;
  padding-bottom: 5px;
}

.quick-q-btn {
  background: rgba(78,205,196,0.2);
  border: 1px solid var(--accent2);
  color: var(--text);
  padding: 8px 12px;
  border-radius: 20px;
  cursor: pointer;
  font-size: 0.85em;
  white-space: nowrap;
  transition: all 0.3s;
}

.quick-q-btn:hover {
  background: rgba(78,205,196,0.3);
}

@media (max-width: 768px) {
  .header h1 { font-size: 1.8em; }
  .header p { font-size: 0.95em; }
  .nav { grid-template-columns: repeat(4, 1fr); font-size: 0.85em; }
  #chatbotPanel { max-width: 100%; }
}
</style>
</head>
<body>

<div class="container">
  <div class="header">
    <h1>üåü AuraHealth Ultra</h1>
    <p id="welcome">Your Personal Wellness Companion</p>
  </div>

  <div class="nav">
    <button id="navDash" onclick="navigateTo('dash')" class="active-nav">Dashboard</button>
    <button id="navProfile" onclick="navigateTo('profile')">Profile</button>
    <button id="navActivity" onclick="navigateTo('activity')">Activity</button>
    <button id="navHealth" onclick="navigateTo('health')">Health</button>
    <button id="navNutrition" onclick="navigateTo('nutrition')">Nutrition</button>
    <button id="navMood" onclick="navigateTo('mood')">Mood</button>
    <button id="navQuiz" onclick="navigateTo('quiz')">Quiz</button>
    <button id="navGuidance" onclick="navigateTo('guidance')">Guidance</button>
  </div>

  <!-- DASHBOARD PAGE -->
  <div id="dash" class="page active">
    <div class="card">
      <h2>üìä Dashboard</h2>
      <div id="statsRow" style="display:none;">
        <div class="stats-grid">
          <div class="stat-card">
            <div class="label">Wellness Score</div>
            <div class="value" id="mainScore">0</div>
            <div class="progress-bar"><div class="progress-fill" id="scoreBar" style="width:0%"></div></div>
          </div>
          <div class="stat-card">
            <div class="label">Steps Today</div>
            <div class="value" id="mainSteps">0</div>
          </div>
          <div class="stat-card">
            <div class="label">Water Intake</div>
            <div class="value"><span id="mainWater">0</span>/8</div>
          </div>
        </div>
      </div>
      
      <div class="card" id="profileCard" style="text-align:center;background:rgba(78,205,196,0.15)">
        <div style="font-size:3em;margin-bottom:10px">üë§</div>
        <h3>Complete Your Profile</h3>
        <p>Set up your profile to unlock personalized recommendations!</p>
        <button class="btn" onclick="navigateTo('profile')" style="margin-top:15px">Get Started</button>
      </div>

      <div class="card">
        <h3>üå§Ô∏è Weather & Location</h3>
        <div class="form-group">
          <label>Enter Your Pincode (India)</label>
          <input type="text" id="weatherPincode" placeholder="e.g., 110001" maxlength="6">
          <button class="btn" onclick="fetchWeather()" style="margin-top:10px;width:100%">Get Weather</button>
        </div>
        <div id="weatherCard" style="margin-top:20px;padding:20px;background:rgba(78,205,196,0.1);border-radius:12px;text-align:center">
          <p style="color:#94a3b8">Enter your pincode to see weather-based health recommendations</p>
        </div>
      </div>

      <div id="quickActions" style="display:none;">
        <h3 style="margin:20px 0 15px 0;color:var(--accent2)">‚ö° Quick Actions</h3>
        <div class="quick-actions">
          <div class="quick-btn" onclick="navigateTo('activity')">üèÉ Log Activity</div>
          <div class="quick-btn" onclick="drinkWater()">üíß Drink Water</div>
          <div class="quick-btn" onclick="navigateTo('mood')">üòä Log Mood</div>
          <div class="quick-btn" onclick="navigateTo('nutrition')">üçé Add Meal</div>
        </div>
      </div>

      <div id="femaleBox" style="display:none;margin-top:20px">
        <div class="card" style="background:rgba(255,107,157,0.15)">
          <h3>üíñ Women's Health</h3>
          <p id="cycleInfo" style="margin-bottom:10px;color:var(--text-muted)">Track your cycle</p>
          <p id="phaseInfo" style="color:var(--accent)"></p>
          <button class="btn" onclick="navigateTo('health')" style="margin-top:10px">Manage Cycle</button>
        </div>
      </div>

      <div class="card">
        <h3>üèÜ Achievements</h3>
        <div id="badges"></div>
        <p id="noBadges" style="color:#64748b;text-align:center;padding:20px">Complete activities to earn badges!</p>
      </div>
    </div>
  </div>

  <!-- PROFILE PAGE -->
  <div id="profile" class="page">
    <div class="card">
      <h2>üë§ Your Profile</h2>
      <div class="form-group">
        <label>Name *</label>
        <input type="text" id="name" placeholder="Enter your name">
      </div>
      <div class="form-group">
        <label>Age *</label>
        <input type="number" id="age" placeholder="Enter your age" min="1" max="120">
      </div>
      <div class="form-group">
        <label>Gender *</label>
        <select id="gender">
          <option value="">Select</option>
          <option value="Male">Male</option>
          <option value="Female">Female</option>
          <option value="Other">Other</option>
        </select>
      </div>
      <div class="form-group">
        <label>Height (cm) *</label>
        <input type="number" id="height" placeholder="e.g., 170" min="50" max="250">
      </div>
      <div class="form-group">
        <label>Weight (kg) *</label>
        <input type="number" id="weight" placeholder="e.g., 70" min="20" max="300">
      </div>
      <div class="form-group">
        <label>Blood Group</label>
        <select id="blood">
          <option value="">Select</option>
          <option value="A+">A+</option>
          <option value="A-">A-</option>
          <option value="B+">B+</option>
          <option value="B-">B-</option>
          <option value="O+">O+</option>
          <option value="O-">O-</option>
          <option value="AB+">AB+</option>
          <option value="AB-">AB-</option>
        </select>
      </div>
      <div class="form-group">
        <label>Health Issue (if any)</label>
        <select id="healthIssue">
          <option value="">None</option>
          <option value="BP">Blood Pressure</option>
          <option value="Diabetes">Diabetes</option>
          <option value="PCOS">PCOS</option>
          <option value="Thyroid">Thyroid</option>
          <option value="Asthma">Asthma</option>
          <option value="Heart">Heart Issue</option>
        </select>
      </div>
      <div class="form-group">
        <label>Primary Goal</label>
        <select id="goal">
          <option value="">Select</option>
          <option value="Weight Loss">Weight Loss</option>
          <option value="Muscle Gain">Muscle Gain</option>
          <option value="Mental Peace">Mental Peace</option>
          <option value="Healthy Lifestyle">Healthy Lifestyle</option>
          <option value="Disease Management">Disease Management</option>
        </select>
      </div>
      <button class="btn" onclick="saveProfile()" style="width:100%">Save Profile</button>
    </div>
  </div>

  <!-- ACTIVITY PAGE -->
  <div id="activity" class="page">
    <div class="card">
      <h2>üèÉ Activity Tracker</h2>
      <div class="stat-card">
        <div class="label">Today's Steps</div>
        <div class="value" id="stepDisplay">0</div>
        <div class="progress-bar"><div class="progress-fill" id="stepBar" style="width:0%"></div></div>
        <p style="color:var(--text-muted);margin-top:10px">Goal: 8,000 steps</p>
      </div>
      
      <h3 style="margin-top:30px;margin-bottom:15px;color:var(--accent2)">Log Activity</h3>
      <div class="form-group">
        <label>Activity Type</label>
        <select id="workType">
          <option value="Walking">Walking</option>
          <option value="Running">Running</option>
          <option value="Cycling">Cycling</option>
          <option value="Gym">Gym</option>
          <option value="Yoga">Yoga</option>
          <option value="Swimming">Swimming</option>
          <option value="Dance">Dance</option>
          <option value="Sports">Sports</option>
        </select>
      </div>
      <div class="form-group">
        <label>Duration (minutes)</label>
        <input type="number" id="minutes" placeholder="e.g., 30" min="1">
      </div>
      <button class="btn" onclick="logActivity()" style="width:100%">Log Activity</button>

      <h3 style="margin-top:30px;margin-bottom:15px;color:var(--accent2)">Activity History</h3>
      <div id="activityLog"></div>
    </div>
  </div>

  <!-- HEALTH PAGE -->
  <div id="health" class="page">
    <div class="card">
      <h2>ü©∫ Health Analysis</h2>
      <button class="btn" onclick="analyzeHealth()" style="width:100%;margin-bottom:20px">Analyze My Health</button>
      
      <div id="healthResults" style="display:none">
        <div class="stats-grid">
          <div class="stat-card">
            <div class="label">BMI</div>
            <div class="value" id="bmiValue">0</div>
            <p id="bmiCategory" style="color:var(--accent)"></p>
          </div>
          <div class="stat-card">
            <div class="label">BMR</div>
            <div class="value" id="bmrValue">0</div>
            <p style="color:var(--text-muted);font-size:0.85em">Base Calories/Day</p>
          </div>
        </div>
        <div class="tip-card">
          <strong>Health Risk Level:</strong> <span id="riskLevel"></span>
        </div>
      </div>
    </div>

    <div id="femaleDash" style="display:none">
      <div class="card">
        <h2>üíñ Menstrual Cycle Tracker</h2>
        <div class="form-group">
          <label>Last Period Start Date</label>
          <input type="date" id="periodStart">
        </div>
        <div class="form-group">
          <label>Average Cycle Length (days)</label>
          <input type="number" id="cycleLength" placeholder="28" value="28" min="21" max="35">
        </div>
        <button class="btn" onclick="analyzeCycle()" style="width:100%">Analyze Cycle</button>

        <div id="cycleResults" style="display:none;margin-top:20px">
          <div class="tip-card">
            <strong>Next Period:</strong> <span id="nextPeriod"></span>
          </div>
          <div class="tip-card">
            <strong>Fertile Window:</strong> <span id="fertileWindow"></span>
          </div>
          <div class="tip-card">
            <strong>Current Phase:</strong> <span id="pmsPhase"></span><br>
            <span id="cycleAdvice" style="color:var(--text-muted)"></span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- NUTRITION PAGE -->
  <div id="nutrition" class="page">
    <div class="card">
      <h2>üçé Nutrition Tracker</h2>
      
      <div class="stat-card">
        <div class="label">Water Intake</div>
        <div class="value"><span id="waterDisplay">0/8</span></div>
        <div class="progress-bar"><div class="progress-fill" id="waterBar" style="width:0%"></div></div>
        <button class="btn" onclick="drinkWater()" style="margin-top:15px">üíß Drink Water (250ml)</button>
      </div>

      <div id="bmrDisplay" style="display:none;margin-top:20px">
        <div class="tip-card">
          <strong>Recommended Daily Calories:</strong> <span id="recommendedCal"></span>
        </div>
      </div>

      <h3 style="margin-top:30px;margin-bottom:15px;color:var(--accent2)">Log Calories</h3>
      <div class="form-group">
        <label>Calories</label>
        <input type="number" id="meal" placeholder="e.g., 500" min="1">
      </div>
      <button class="btn" onclick="addCalories()" style="width:100%">Add Calories</button>

      <div class="stat-card" style="margin-top:20px">
        <div class="label">Today's Calories</div>
        <div class="value"><span id="calDisplay">0 kcal</span></div>
      </div>
    </div>
  </div>

  <!-- MOOD PAGE -->
  <div id="mood" class="page">
    <div class="card">
      <h2>üòä Mood Tracker</h2>
      <div class="form-group">
        <label>How are you feeling?</label>
        <select id="moodSel">
          <option value="üòä Happy">üòä Happy</option>
          <option value="üòå Calm">üòå Calm</option>
          <option value="üòî Sad">üòî Sad</option>
          <option value="üò∞ Anxious">üò∞ Anxious</option>
          <option value="üò§ Stressed">üò§ Stressed</option>
          <option value="üî• Motivated">üî• Motivated</option>
          <option value="üò¥ Tired">üò¥ Tired</option>
          <option value="üéØ Focused">üéØ Focused</option>
          <option value="‚ö° Energetic">‚ö° Energetic</option>
        </select>
      </div>
      <button class="btn" onclick="logMood()" style="width:100%">Log Mood</button>

      <div class="tip-card" style="margin-top:20px">
        <strong>Current Mood:</strong> <span id="moodOut">Not logged yet</span>
      </div>

      <div id="moodLog" style="margin-top:20px"></div>

      <div class="card" style="margin-top:20px;background:rgba(78,205,196,0.1)">
        <h3>üìä Mood Insights</h3>
        <p id="moodInsight">Start tracking your moods to see insights about your emotional patterns.</p>
      </div>
    </div>
  </div>

  <!-- QUIZ PAGE -->
  <div id="quiz" class="page">
    <div class="card">
      <h2>üß† Health Knowledge Quiz</h2>
      <p style="color:var(--text-muted);margin-bottom:20px">Test your health knowledge!</p>
      
      <div class="card" style="background:rgba(78,205,196,0.1)">
        <h3 id="qNum">Question 1 of 20</h3>
        <p id="q" style="font-size:1.1em;margin:20px 0;line-height:1.6"></p>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:20px">
          <button class="btn" onclick="answer(true)">‚úì True</button>
          <button class="btn" onclick="answer(false)" style="background:linear-gradient(135deg, #64748b, #475569)">‚úó False</button>
        </div>
      </div>

      <div id="quizOut" style="margin-top:20px"></div>
    </div>
  </div>

  <!-- GUIDANCE PAGE -->
  <div id="guidance" class="page">
    <div class="card">
      <h2>üéØ Daily Guidance</h2>
      <button class="btn" onclick="refreshGuidance()" style="width:100%;margin-bottom:20px">üîÑ Refresh Recommendations</button>
      <div id="guidanceContent"></div>
    </div>

    <div class="card">
      <h2>üí° Health Tips</h2>
      <button class="btn" onclick="getHealthTips()" style="width:100%;margin-bottom:20px">Get Tips</button>
      <div id="aiGuidance"></div>
    </div>
  </div>
</div>

<!-- CHATBOT -->
<div id="chatbotIcon" onclick="toggleChatbot()">ü§ñ</div>

<div id="chatbotPanel">
  <div class="chat-header">
    <h3>ü§ñ
